You are an expert Discord.js developer and AI automation engineer.

Update the existing Discord bot code to improve the AI-generated introduction embed format and output consistency.

---

ğŸ¯ Goal:
Enhance the botâ€™s Gemini-powered introduction system to produce cleaner, professional, and consistent Discord embeds that summarize a userâ€™s introduction in a refined format.

---

ğŸ’¡ Key Requirements:

1. **AI Input Refinement**
   - When the Gemini API analyzes a memberâ€™s introduction, it should rewrite the summary in a clear, professional, and engaging style.
   - The summary must be 2â€“3 sentences max and written in third person.
   - Example:
     - âŒ â€œI am Riya, a student studying AI.â€
     - âœ… â€œRiya is a computer science student passionate about Artificial Intelligence and automation.â€

---

2. **Improved Embed Structure**
   - Title: ğŸ“ Member Introduction
   - Description: AI-refined summary in natural language.
   - Fields (each field clearly labeled and aligned):
     - ğŸ“ Name  
     - ğŸ’¼ Role / Study  
     - ğŸ« Institution  
     - ğŸ¤– Interests  
     - ğŸ§  Skills  
     - ğŸ“ˆ Experience Level  
     - ğŸš€ Goal  
     - ğŸ”— Portfolio / Links (optional)
   - Remove redundant fields like â€œAI-Detected Roleâ€ or â€œImageâ€.
   - Merge similar fields where needed (e.g., Institution / Organization â†’ Institution).

---

3. **Visual Enhancements**
   - Add userâ€™s profile picture as the thumbnail in the embed.
   - Tag the user (e.g., `@${user.username}`) at the top of the embed description.
   - Use consistent spacing and emoji formatting for readability.
   - Footer: `ğŸ§© Verified by AI Learners India Bot ğŸ¤–`
   - Timestamp: auto-generated using `new Date()`

---

4. **Color Logic**
   - Beginner â†’ Green (#00FF7F)
   - Intermediate (Builder) â†’ Yellow (#FFD700)
   - Advanced (Expert) â†’ Red (#FF0000)
   - Default â†’ Blue (#1E90FF)
   - The color is based on the Experience Level detected by Gemini.

---

5. **AI-Refined Summary Rules**
   - Always start the summary with the memberâ€™s name.
   - Focus on their study/work background, interests, and goals.
   - Example Output:
     > Alnirmane is a graduate student in Computer Science at IIT Bombay.  
     > Passionate about NLP and Computer Vision, skilled in Python and PyTorch.  
     > Currently focused on building AI chatbots for education accessibility.

---

6. **Command Additions**
   - Add a slash command `/update_intro` so users can refresh their intro.
   - On update, re-run the Gemini analysis and replace the existing embed in the profile channel.

---

7. **Error Handling**
   - If the userâ€™s message is unrelated to intros, ignore silently.
   - If key details are missing (e.g., no skills or goals), send a private message:
     > â€œâš ï¸ Your intro seems incomplete. Please include your role, skills, and goals for better AI analysis.â€

---

8. **Technical Details**
   - Built using Discord.js v14 and Node.js.
   - Integrate Gemini Free API for analysis and formatting.
   - Use Replit Secrets to store tokens (`DISCORD_TOKEN`, `GEMINI_API_KEY`).
   - Auto-send the refined embed to the `#profiles` channel.

---

âœ… Example Output Embed:

**Title:** ğŸ“ Member Introduction  
**Description:**  
> @Alnirmane  
> Alnirmane is a graduate student in Computer Science at IIT Bombay.  
> Passionate about NLP and Computer Vision, skilled in Python, PyTorch, OpenCV, and Docker.  
> Focused on developing AI chatbots for education accessibility.

**Fields:**  
ğŸ“ **Name:** Alnirmane  
ğŸ’¼ **Role / Study:** Graduate Student, Computer Science  
ğŸ« **Institution:** IIT Bombay  
ğŸ¤– **Interests:** NLP, Computer Vision  
ğŸ§  **Skills:** Python, PyTorch, OpenCV, Docker  
ğŸ“ˆ **Experience Level:** ğŸŸ¡ Builder  
ğŸš€ **Goal:** Build AI-driven chatbots for accessible education  
ğŸ”— **Links:** linkedin.com/in/arjunmehta  

**Color:** Yellow (#FFD700)  
**Footer:** ğŸ§© Verified by AI Learners India Bot ğŸ¤–  

---

Final Output:
Generate the complete, improved bot code ready for deployment on Replit, integrating Gemini API analysis, dynamic embed styling, and update commands.
